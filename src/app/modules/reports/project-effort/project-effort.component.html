<app-page-title title="Podsumowanie projektÃ³w"></app-page-title>
<div class="container-fluid">
  <div class="row">
    <div class="col p-0">
      <p-table #projectEffortTable [columns]="columns" [value]="projectEfforts">
        <ng-template pTemplate="caption">
          <div style="text-align: right;">
            <i class="pi pi-search" style="margin: 4px 4px 0 0;"></i>
            <input
              type="text"
              pInputText
              size="50"
              placeholder="Wyszukaj..."
              (input)="
                projectEffortTable.filterGlobal($event.target.value, 'contains')
              "
              style="width: auto;"
            />
          </div>
        </ng-template>
        <ng-template pTemplate="header" let-columns let-column>
          <tr>
            <th rowspan="2">
              {{ column[0].header }}
            </th>
            <th>
              {{ column[1].header }}
            </th>
            <th rowspan="2">
              {{ column[2].header }}
            </th>
            <th rowspan="2">
              {{ column[3].header }}
            </th>
            <th rowspan="2">
              {{ column[4].header }}
            </th>
          </tr>
          <tr>
            <th [ngSwitch]="column[1].field">
              <p-multiSelect
                [style]="{ width: '100%' }"
                *ngSwitchCase="'customerName'"
                [options]="customerNames"
                defaultLabel="Wszyscy"
                (onChange)="
                  projectEffortTable.filter($event.value, column[1].field, 'in')
                "
              ></p-multiSelect>
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns="columns">
          <tr>
            <td *ngFor="let col of columns">
              {{ rowData[col.field] }}
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>
